{"version":3,"sources":["../src/database.js"],"names":["database","mongo","MongoMemoryServer","startDatabase","getConnectionString","mongoDBURL","MongoClient","connect","useNewUrlParser","connection","db","collection","insertMany","Users","stopDatabase","stop"],"mappings":";;;;;;;;;;;;;;AAEA;;AACA;;AACA;;AAJA;AAMA,IAAIA,QAAQ,GAAG,IAAf;AAEA,IAAMC,KAAK,GAAG,IAAIC,sCAAJ,EAAd;;SAEeC,a;;;;;iGAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAC2BF,KAAK,CAACG,mBAAN,EAD3B;;AAAA;AACQC,YAAAA,UADR;AAAA;AAAA,mBAE2BC,qBAAYC,OAAZ,CAAoBF,UAApB,EAAgC;AACvDG,cAAAA,eAAe,EAAE;AADsC,aAAhC,CAF3B;;AAAA;AAEQC,YAAAA,UAFR;;AAAA,gBAOOT,QAPP;AAAA;AAAA;AAAA;;AAQIA,YAAAA,QAAQ,GAAGS,UAAU,CAACC,EAAX,EAAX;AARJ;AAAA,mBASUV,QAAQ,CAACW,UAAT,CAAoB,OAApB,EAA6BC,UAA7B,CAAwCC,WAAxC,CATV;;AAAA;AAAA,6CAYSb,QAZT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;SAeec,Y;;;;;gGAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACQb,KAAK,CAACc,IAAN,EADR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["/* src/database.js */\n\nimport { MongoMemoryServer } from \"mongodb-memory-server\";\nimport { MongoClient } from \"mongodb\";\nimport { Users } from \"./data\";\n\nlet database = null;\n\nconst mongo = new MongoMemoryServer();\n\nasync function startDatabase() {\n  const mongoDBURL = await mongo.getConnectionString();\n  const connection = await MongoClient.connect(mongoDBURL, {\n    useNewUrlParser: true,\n  });\n\n  //Seed Database\n  if (!database) {\n    database = connection.db();\n    await database.collection(\"users\").insertMany(Users);\n  }\n\n  return database;\n}\n\nasync function stopDatabase() {\n  await mongo.stop();\n}\n\nexport {\n  startDatabase,\n  stopDatabase,\n};"],"file":"database.js"}